!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),n=o(2),i=new n.default("Bert Bertocimus"),a=new n.default("Fredacious Fredicus");new r.default(i,a)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.startingPlayer=0,this.fighter1=e,this.fighter2=t,this.fighters=[this.fighter1,this.fighter2],console.log("%c welcome "+e.tamName+" and "+t.tamName+" to MORTAL KOMBAT!!!!","font-size: 2em; color:red; font-weight:bold; background:black;"),this.initMatch()}return e.prototype.initMatch=function(){console.log("Fight!"),this.startingPlayer=this.determineFirstFighter(),this.meleRound(this.fighters,this.startingPlayer)},e.prototype.determineFirstFighter=function(){return Math.random()>.5?0:1},e.prototype.meleRound=function(e,t){var o=this.determineCombatRoles(t),r=e[o.attacker],n=e[o.defender],i=r.attack(),a=n.defend();if(!0===this.determineStrikeOutcome(i,a)?(console.log("%c"+r.getFighterName()+" hits "+n.getFighterName()+" with "+i.foodName+" for "+i.damage+"!","font-size: 2em; color: red; background: black;"),n.takeDamage(i.damage)):console.log("%c"+r.getFighterName()+" misses "+n.getFighterName()+" with "+i.foodName+"!","font-size: 2em; color:green;background:yellow;"),console.log(r.getFighterName()+": "+r.getHP()+" "+n.getFighterName()+": "+n.getHP()),n.getHP()<=0)console.log("%c"+r.getFighterName()+" has won!","font-size: 3em; color:goldenrod; background:blue; border: 2px solid black;");else{var s=void 0;s=0==t?1:0,this.meleRound(e,s)}},e.prototype.determineCombatRoles=function(e){var t=0;return 0==e&&(t=1),{attacker:e,defender:t}},e.prototype.determineStrikeOutcome=function(e,t){var o=.45;return e.foodCat==t.weakAgainst&&(o*=2),e.foodCat==t.strongAgainst&&(o/=2),Math.random()>=o},e}();t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.defenseCharacteristics={strongAgainst:"fruit",weakAgainst:"meat"},this.tamName=e,this.hp=60,console.log("my name is "+this.tamName),this.foods=[{foodName:"bananas",foodCat:"fruit",damage:4},{foodName:"beef stroganoff",foodCat:"meat",damage:12},{foodName:"rice",foodCat:"grain",damage:1}]}return e.prototype.getFighterName=function(){return this.tamName},e.prototype.defend=function(){return this.defenseCharacteristics},e.prototype.attack=function(){var e=Math.floor(Math.random()*this.foods.length);return this.foods[e]},e.prototype.takeDamage=function(e){this.hp-=e},e.prototype.getHP=function(){return this.hp},e}();t.default=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9BcmVuYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRmlnaHRlckEudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcmVuYV8xIiwiRmlnaHRlckFfMSIsImJlcnQiLCJkZWZhdWx0IiwiZnJlZCIsIkFyZW5hIiwiZmlnaHRlcjEiLCJmaWdodGVyMiIsInRoaXMiLCJzdGFydGluZ1BsYXllciIsImZpZ2h0ZXJzIiwiY29uc29sZSIsImxvZyIsInRhbU5hbWUiLCJpbml0TWF0Y2giLCJkZXRlcm1pbmVGaXJzdEZpZ2h0ZXIiLCJtZWxlUm91bmQiLCJNYXRoIiwicmFuZG9tIiwicGxheWVyTnVtIiwiY29tYmF0YW50cyIsImRldGVybWluZUNvbWJhdFJvbGVzIiwiYXR0YWNrZXIiLCJkZWZlbmRlciIsImZvb2RXZWFwb24iLCJhdHRhY2siLCJkZWZlbnNlIiwiZGVmZW5kIiwiZGV0ZXJtaW5lU3RyaWtlT3V0Y29tZSIsImdldEZpZ2h0ZXJOYW1lIiwiZm9vZE5hbWUiLCJkYW1hZ2UiLCJ0YWtlRGFtYWdlIiwiZ2V0SFAiLCJuZXh0QXR0YWNrZXIiLCJhY3RpdmVBdHRhY2tlciIsInN1Y2Nlc3NSYXRlIiwiZm9vZENhdCIsIndlYWtBZ2FpbnN0Iiwic3Ryb25nQWdhaW5zdCIsIkZpZ2h0ZXJBIiwiZGVmZW5zZUNoYXJhY3RlcmlzdGljcyIsImhwIiwiZm9vZHMiLCJmb29kTnVtIiwiZmxvb3IiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLG1GQ2xGQSxJQUFBQyxFQUFBcEMsRUFBQSxHQUNBcUMsRUFBQXJDLEVBQUEsR0FFSXNDLEVBQU8sSUFBSUQsRUFBQUUsUUFBUyxtQkFDcEJDLEVBQU8sSUFBSUgsRUFBQUUsUUFBUyx1QkFDVCxJQUFJSCxFQUFBRyxRQUFNRCxFQUFNRSxrRkNDL0IsSUFBQUMsRUFBQSxXQUtJLFNBQUFBLEVBQVlDLEVBQW1CQyxHQUQvQkMsS0FBQUMsZUFBeUIsRUFFckJELEtBQUtGLFNBQVdBLEVBQ2hCRSxLQUFLRCxTQUFXQSxFQUNoQkMsS0FBS0UsU0FBVyxDQUFDRixLQUFLRixTQUFVRSxLQUFLRCxVQUNyQ0ksUUFBUUMsSUFBSSxjQUFjTixFQUFTTyxRQUFPLFFBQVFOLEVBQVNNLFFBQU8sd0JBQXdCLGtFQUMxRkwsS0FBS00sWUFtRmIsT0FoRklULEVBQUFULFVBQUFrQixVQUFBLFdBQ0lILFFBQVFDLElBQUksVUFDWkosS0FBS0MsZUFBa0JELEtBQUtPLHdCQUM1QlAsS0FBS1EsVUFBVVIsS0FBS0UsU0FBVUYsS0FBS0MsaUJBR3ZDSixFQUFBVCxVQUFBbUIsc0JBQUEsV0FRSSxPQU5vQkUsS0FBS0MsU0FDUixHQUNFLEVBRUEsR0FLdkJiLEVBQUFULFVBQUFvQixVQUFBLFNBQVVOLEVBQXFCUyxHQUczQixJQUFJQyxFQUEwQlosS0FBS2EscUJBQXFCRixHQUdwREcsRUFBb0JaLEVBQVNVLEVBQVdFLFVBQ3hDQyxFQUFvQmIsRUFBU1UsRUFBV0csVUFFeENDLEVBQTRCRixFQUFTRyxTQUdyQ0MsRUFBaUJILEVBQVNJLFNBWTlCLElBUmEsSUFGVW5CLEtBQUtvQix1QkFBdUJKLEVBQVlFLElBRzNEZixRQUFRQyxJQUFJLEtBQUtVLEVBQVNPLGlCQUFnQixTQUFTTixFQUFTTSxpQkFBZ0IsU0FBU0wsRUFBV00sU0FBUSxRQUFRTixFQUFXTyxPQUFNLElBQUksa0RBQ3JJUixFQUFTUyxXQUFXUixFQUFXTyxTQUUvQnBCLFFBQVFDLElBQUksS0FBS1UsRUFBU08saUJBQWdCLFdBQVdOLEVBQVNNLGlCQUFnQixTQUFTTCxFQUFXTSxTQUFRLElBQUksa0RBRWxIbkIsUUFBUUMsSUFBT1UsRUFBU08saUJBQWdCLEtBQUtQLEVBQVNXLFFBQU8sSUFBSVYsRUFBU00saUJBQWdCLEtBQUtOLEVBQVNVLFNBRXJHVixFQUFTVSxTQUFTLEVBQ2pCdEIsUUFBUUMsSUFBSSxLQUFLVSxFQUFTTyxpQkFBZ0IsWUFBWSxrRkFDckQsQ0FDRCxJQUFJSyxPQUFZLEVBRVpBLEVBRFcsR0FBWGYsRUFDZSxFQUVBLEVBRW5CWCxLQUFLUSxVQUFVTixFQUFVd0IsS0FHakM3QixFQUFBVCxVQUFBeUIscUJBQUEsU0FBcUJjLEdBRWpCLElBQUlaLEVBQW1CLEVBSXZCLE9BSG1CLEdBQWhCWSxJQUNDWixFQUFXLEdBRVIsQ0FBQ0QsU0FBVWEsRUFBZ0JaLFNBQVFBLElBRTlDbEIsRUFBQVQsVUFBQWdDLHVCQUFBLFNBQXVCSixFQUEyQkcsR0FFOUMsSUFBSVMsRUFBc0IsSUFZMUIsT0FYR1osRUFBV2EsU0FBV1YsRUFBT1csY0FFNUJGLEdBQWEsR0FHZFosRUFBV2EsU0FBV1YsRUFBT1ksZ0JBRTVCSCxHQUFjLEdBR0RuQixLQUFLQyxVQUNQa0IsR0FLdkIvQixFQTdGQSxHQThGQXZDLEVBQUFxQyxRQUFlRSxpRkNoR2YsSUFBQW1DLEVBQUEsV0FLSSxTQUFBQSxFQUFZM0IsR0FGWkwsS0FBQWlDLHVCQUFnQyxDQUFDRixjQUFlLFFBQVNELFlBQVksUUFHakU5QixLQUFLSyxRQUFVQSxFQUNmTCxLQUFLa0MsR0FBSyxHQUNWL0IsUUFBUUMsSUFBSSxjQUFjSixLQUFLSyxTQUMvQkwsS0FBS21DLE1BQVEsQ0FDVCxDQUFDYixTQUFTLFVBQVdPLFFBQVEsUUFBU04sT0FBTyxHQUM3QyxDQUFDRCxTQUFTLGtCQUFtQk8sUUFBUSxPQUFRTixPQUFPLElBQ3BELENBQUNELFNBQVMsT0FBUU8sUUFBUSxRQUFTTixPQUFPLElBcUJ0RCxPQWxCV1MsRUFBQTVDLFVBQUFpQyxlQUFQLFdBQ0ksT0FBT3JCLEtBQUtLLFNBRWhCMkIsRUFBQTVDLFVBQUErQixPQUFBLFdBQ0ksT0FBT25CLEtBQUtpQyx3QkFFaEJELEVBQUE1QyxVQUFBNkIsT0FBQSxXQUNJLElBQUltQixFQUFVM0IsS0FBSzRCLE1BQU01QixLQUFLQyxTQUFTVixLQUFLbUMsTUFBTUcsUUFDbEQsT0FBT3RDLEtBQUttQyxNQUFNQyxJQUV0QkosRUFBQTVDLFVBQUFvQyxXQUFBLFNBQVdELEdBQ1B2QixLQUFLa0MsSUFBTVgsR0FJUlMsRUFBQTVDLFVBQUFxQyxNQUFQLFdBQ0ksT0FBT3pCLEtBQUtrQyxJQUVwQkYsRUFqQ0EsR0FrQ0ExRSxFQUFBcUMsUUFBZXFDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBBcmVuYSBmcm9tICcuL0FyZW5hJztcbmltcG9ydCBGaWdodGVyQSBmcm9tICcuL0ZpZ2h0ZXJBJztcblxubGV0IGJlcnQgPSBuZXcgRmlnaHRlckEoXCJCZXJ0IEJlcnRvY2ltdXNcIik7XG5sZXQgZnJlZCA9IG5ldyBGaWdodGVyQShcIkZyZWRhY2lvdXMgRnJlZGljdXNcIik7XG5sZXQgdGhpc1JpbmcgPSBuZXcgQXJlbmEoYmVydCwgZnJlZCk7XG4iLCJpbXBvcnQgRGlnaVBldCBmcm9tICcuL0RpZ2lQZXQnO1xuaW1wb3J0IEZpZ2h0Q2x1YiBmcm9tICcuL0ZpZ2h0Q2x1Yic7XG5pbXBvcnQgQ29tYmF0Um9sZXMgZnJvbSAnLi9Db21iYXRSb2xlcyc7XG5pbXBvcnQgT2ZmZW5zaXZlRm9vZCBmcm9tICcuL09mZmVuc2l2ZUZvb2QnO1xuaW1wb3J0IEFybW9yIGZyb20gJy4vQXJtb3InO1xuXG5jbGFzcyBBcmVuYSBpbXBsZW1lbnRzIEZpZ2h0Q2x1YntcbiAgICBmaWdodGVyMTogRGlnaVBldDtcbiAgICBmaWdodGVyMjogRGlnaVBldDtcbiAgICBmaWdodGVyczogRGlnaVBldFtdO1xuICAgIHN0YXJ0aW5nUGxheWVyOiBudW1iZXIgPSAwO1xuICAgIGNvbnN0cnVjdG9yKGZpZ2h0ZXIxOiBEaWdpUGV0LCBmaWdodGVyMjogRGlnaVBldCl7XG4gICAgICAgIHRoaXMuZmlnaHRlcjEgPSBmaWdodGVyMTtcbiAgICAgICAgdGhpcy5maWdodGVyMiA9IGZpZ2h0ZXIyO1xuICAgICAgICB0aGlzLmZpZ2h0ZXJzID0gW3RoaXMuZmlnaHRlcjEsIHRoaXMuZmlnaHRlcjJdO1xuICAgICAgICBjb25zb2xlLmxvZyhgJWMgd2VsY29tZSAke2ZpZ2h0ZXIxLnRhbU5hbWV9IGFuZCAke2ZpZ2h0ZXIyLnRhbU5hbWV9IHRvIE1PUlRBTCBLT01CQVQhISEhYCxcImZvbnQtc2l6ZTogMmVtOyBjb2xvcjpyZWQ7IGZvbnQtd2VpZ2h0OmJvbGQ7IGJhY2tncm91bmQ6YmxhY2s7XCIpO1xuICAgICAgICB0aGlzLmluaXRNYXRjaCgpO1xuICAgIH1cbiAgICAvL2luaXRpYWxpemUgdGhlIG1hdGNoIVxuICAgIGluaXRNYXRjaCgpOiB2b2lke1xuICAgICAgICBjb25zb2xlLmxvZyhcIkZpZ2h0IVwiKTtcbiAgICAgICAgdGhpcy5zdGFydGluZ1BsYXllciA9ICB0aGlzLmRldGVybWluZUZpcnN0RmlnaHRlcigpO1xuICAgICAgICB0aGlzLm1lbGVSb3VuZCh0aGlzLmZpZ2h0ZXJzLCB0aGlzLnN0YXJ0aW5nUGxheWVyKTtcbiAgICB9XG4gICAgLy9yYW5kb20gZmlyc3Qgc3RyaWtlXG4gICAgZGV0ZXJtaW5lRmlyc3RGaWdodGVyKCk6IG51bWJlcntcbiAgICAgICAgbGV0IGZpcnN0RmlnaHRlcjogbnVtYmVyO1xuICAgICAgICBsZXQgZmlnaHRlckNoYW5jZSA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIGlmKGZpZ2h0ZXJDaGFuY2U+LjUpe1xuICAgICAgICAgICAgZmlyc3RGaWdodGVyID0gMDtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBmaXJzdEZpZ2h0ZXIgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaXJzdEZpZ2h0ZXI7XG4gICAgfVxuICAgIC8vbWVsZVJvdW5kcyBydW4gdW50aWwgYSBwbGF5ZXIgcmVhY2hlcyAwIGhpdCBwb2ludHNcbiAgICBtZWxlUm91bmQoZmlnaHRlcnM6IERpZ2lQZXRbXSwgcGxheWVyTnVtOiBudW1iZXIpOiB2b2lke1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwicnVuIGEgcm91bmQgb2YgZmlnaHRpbmchXCIpO1xuICAgICAgICAvL2RlZmluZSB3aG8gdGhlIGF0dGFja2VyIGlzOlxuICAgICAgICBsZXQgY29tYmF0YW50czogQ29tYmF0Um9sZXMgPSB0aGlzLmRldGVybWluZUNvbWJhdFJvbGVzKHBsYXllck51bSk7IFxuICAgICAgICAvL2RlZmluZSB0aGUgYXR0YWNrZXIgYW5kIGRlZmVuZGVyIHJvbGVzOlxuICAgICAgICAvL2NvbnNvbGUubG9nKGBhdHRhY2tlcjogJHtjb21iYXRhbnRzLmF0dGFja2VyfSAgZGVmZW5kZXI6JHtjb21iYXRhbnRzLmRlZmVuZGVyfWApO1xuICAgICAgICBsZXQgYXR0YWNrZXI6IERpZ2lQZXQgPSBmaWdodGVyc1tjb21iYXRhbnRzLmF0dGFja2VyXSBhcyBEaWdpUGV0O1xuICAgICAgICBsZXQgZGVmZW5kZXI6IERpZ2lQZXQgPSBmaWdodGVyc1tjb21iYXRhbnRzLmRlZmVuZGVyXSBhcyBEaWdpUGV0O1xuICAgICAgICAvL25vdyB3ZSBnZXQgdGhlIGZvb2QgdHlwZSB0byBhdHRhY2sgd2l0aFxuICAgICAgICBsZXQgZm9vZFdlYXBvbjogT2ZmZW5zaXZlRm9vZCA9IGF0dGFja2VyLmF0dGFjaygpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKGZvb2RXZWFwb24pO1xuICAgICAgICAvL3dlIGdldCB0aGUgZGVmZW5zZSBmcm9tIHRoZSBvcHBvc2luZyBwbGF5ZXJcbiAgICAgICAgbGV0IGRlZmVuc2U6IEFybW9yID0gZGVmZW5kZXIuZGVmZW5kKCk7XG4gICAgICAgIC8vY2hlY2sgaWYgdGhlIGF0dGFjayBoaXRcbiAgICAgICAgbGV0IGZvb2RIaXQ6IGJvb2xlYW4gPSB0aGlzLmRldGVybWluZVN0cmlrZU91dGNvbWUoZm9vZFdlYXBvbiwgZGVmZW5zZSk7XG4gICAgICAgIC8vYXBwbHkgdGhlIGRhbWFnZVxuICAgICAgICBpZihmb29kSGl0PT09dHJ1ZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJWMke2F0dGFja2VyLmdldEZpZ2h0ZXJOYW1lKCl9IGhpdHMgJHtkZWZlbmRlci5nZXRGaWdodGVyTmFtZSgpfSB3aXRoICR7Zm9vZFdlYXBvbi5mb29kTmFtZX0gZm9yICR7Zm9vZFdlYXBvbi5kYW1hZ2V9IWAsXCJmb250LXNpemU6IDJlbTsgY29sb3I6IHJlZDsgYmFja2dyb3VuZDogYmxhY2s7XCIpO1xuICAgICAgICAgICAgZGVmZW5kZXIudGFrZURhbWFnZShmb29kV2VhcG9uLmRhbWFnZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY29uc29sZS5sb2coYCVjJHthdHRhY2tlci5nZXRGaWdodGVyTmFtZSgpfSBtaXNzZXMgJHtkZWZlbmRlci5nZXRGaWdodGVyTmFtZSgpfSB3aXRoICR7Zm9vZFdlYXBvbi5mb29kTmFtZX0hYCxcImZvbnQtc2l6ZTogMmVtOyBjb2xvcjpncmVlbjtiYWNrZ3JvdW5kOnllbGxvdztcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coYCR7YXR0YWNrZXIuZ2V0RmlnaHRlck5hbWUoKX06ICR7YXR0YWNrZXIuZ2V0SFAoKX0gJHtkZWZlbmRlci5nZXRGaWdodGVyTmFtZSgpfTogJHtkZWZlbmRlci5nZXRIUCgpfWApO1xuICAgICAgICAvL2NoZWNrIGZvciAwIGFuZCBzaG93IHJlc3VsdFxuICAgICAgICBpZihkZWZlbmRlci5nZXRIUCgpPD0wKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAlYyR7YXR0YWNrZXIuZ2V0RmlnaHRlck5hbWUoKX0gaGFzIHdvbiFgLFwiZm9udC1zaXplOiAzZW07IGNvbG9yOmdvbGRlbnJvZDsgYmFja2dyb3VuZDpibHVlOyBib3JkZXI6IDJweCBzb2xpZCBibGFjaztcIik7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbGV0IG5leHRBdHRhY2tlcjogbnVtYmVyO1xuICAgICAgICAgICAgaWYgKHBsYXllck51bT09MCl7XG4gICAgICAgICAgICAgICAgbmV4dEF0dGFja2VyID0gMTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIG5leHRBdHRhY2tlciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1lbGVSb3VuZChmaWdodGVycywgbmV4dEF0dGFja2VyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXRlcm1pbmVDb21iYXRSb2xlcyhhY3RpdmVBdHRhY2tlcjogbnVtYmVyKTogQ29tYmF0Um9sZXN7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJkZXRlcm1pbmUgdGhlIGNvbWJhdCByb2xlc1wiKTtcbiAgICAgICAgbGV0IGRlZmVuZGVyOiBudW1iZXIgPSAwO1xuICAgICAgICBpZihhY3RpdmVBdHRhY2tlcj09MCl7XG4gICAgICAgICAgICBkZWZlbmRlciA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHthdHRhY2tlcjogYWN0aXZlQXR0YWNrZXIsIGRlZmVuZGVyfTtcbiAgICB9XG4gICAgZGV0ZXJtaW5lU3RyaWtlT3V0Y29tZShmb29kV2VhcG9uOiBPZmZlbnNpdmVGb29kLCBkZWZlbmQ6IEFybW9yKTogYm9vbGVhbntcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIndpbGwgdGhlIHN0cmlrZSBsYW5kP1wiKTtcbiAgICAgICAgbGV0IHN1Y2Nlc3NSYXRlOiBudW1iZXIgPSAwLjQ1O1xuICAgICAgICBpZihmb29kV2VhcG9uLmZvb2RDYXQgPT0gZGVmZW5kLndlYWtBZ2FpbnN0KXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYEkgYW0gd2VhayBhZ2FpbnN0OiAke2Zvb2RXZWFwb24uZm9vZENhdH1gKTtcbiAgICAgICAgICAgIHN1Y2Nlc3NSYXRlKj0yO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgc3VjY2Vzc1JhdGU6ICR7c3VjY2Vzc1JhdGV9YCk7IFxuICAgICAgICB9XG4gICAgICAgIGlmKGZvb2RXZWFwb24uZm9vZENhdCA9PSBkZWZlbmQuc3Ryb25nQWdhaW5zdCl7XG4gICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBJIGFtIHN0cm9uZyBhZ2FpbnN0OiAke2Zvb2RXZWFwb24uZm9vZENhdH1gKTtcbiAgICAgICAgICAgIHN1Y2Nlc3NSYXRlIC89MjtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYHN1Y2Nlc3NSYXRlOiAke3N1Y2Nlc3NSYXRlfWApOyBcbiAgICAgICAgfVxuICAgICAgICBsZXQgaGl0U3VjY2VzcyA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIGlmKGhpdFN1Y2Nlc3M+PXN1Y2Nlc3NSYXRlKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBBcmVuYTsiLCJpbXBvcnQgRGlnaVBldCBmcm9tICcuL0RpZ2lQZXQnO1xuaW1wb3J0IEFybW9yIGZyb20gJy4vQXJtb3InO1xuaW1wb3J0IE9mZmVuc2l2ZUZvb2QgZnJvbSAnLi9PZmZlbnNpdmVGb29kJztcblxuY2xhc3MgRmlnaHRlckEgaW1wbGVtZW50cyBEaWdpUGV0e1xuICAgIHRhbU5hbWU6IHN0cmluZztcbiAgICBocDogbnVtYmVyO1xuICAgIGRlZmVuc2VDaGFyYWN0ZXJpc3RpY3M6IEFybW9yID0ge3N0cm9uZ0FnYWluc3Q6IFwiZnJ1aXRcIiwgd2Vha0FnYWluc3Q6XCJtZWF0XCJ9O1xuICAgIGZvb2RzOiBPZmZlbnNpdmVGb29kW107XG4gICAgY29uc3RydWN0b3IodGFtTmFtZTogc3RyaW5nKXtcbiAgICAgICAgdGhpcy50YW1OYW1lID0gdGFtTmFtZTtcbiAgICAgICAgdGhpcy5ocCA9IDYwO1xuICAgICAgICBjb25zb2xlLmxvZyhgbXkgbmFtZSBpcyAke3RoaXMudGFtTmFtZX1gKTtcbiAgICAgICAgdGhpcy5mb29kcyA9IFtcbiAgICAgICAgICAgIHtmb29kTmFtZTpcImJhbmFuYXNcIiwgZm9vZENhdDpcImZydWl0XCIsIGRhbWFnZTo0fSxcbiAgICAgICAgICAgIHtmb29kTmFtZTpcImJlZWYgc3Ryb2dhbm9mZlwiLCBmb29kQ2F0OlwibWVhdFwiLCBkYW1hZ2U6MTJ9LFxuICAgICAgICAgICAge2Zvb2ROYW1lOlwicmljZVwiLCBmb29kQ2F0OlwiZ3JhaW5cIiwgZGFtYWdlOjF9LFxuICAgICAgICBdXG4gICAgfVxuICAgIHB1YmxpYyBnZXRGaWdodGVyTmFtZSgpOiBzdHJpbmd7XG4gICAgICAgIHJldHVybiB0aGlzLnRhbU5hbWU7XG4gICAgfVxuICAgIGRlZmVuZCgpOiBBcm1vcntcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmZW5zZUNoYXJhY3RlcmlzdGljcztcbiAgICB9XG4gICAgYXR0YWNrKCk6IE9mZmVuc2l2ZUZvb2R7XG4gICAgICAgIGxldCBmb29kTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnRoaXMuZm9vZHMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9vZHNbZm9vZE51bV07XG4gICAgfVxuICAgIHRha2VEYW1hZ2UoZGFtYWdlOiBudW1iZXIpOiB2b2lke1xuICAgICAgICB0aGlzLmhwIC09IGRhbWFnZTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInRha2VuIGRhbWFnZVwiKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmhwKTtcbiAgICB9XG4gICAgcHVibGljIGdldEhQKCk6IG51bWJlcntcbiAgICAgICAgcmV0dXJuIHRoaXMuaHA7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRmlnaHRlckE7Il0sInNvdXJjZVJvb3QiOiIifQ==