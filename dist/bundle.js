!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),n=o(2),i=new n.default("Bert Bertocimus"),a=new n.default("Fredacious Fredicus");new r.default(i,a)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.startingPlayer=0,this.fighter1=e,this.fighter2=t,this.fighters=[this.fighter1,this.fighter2],console.log("welcome "+e.tamName+" and "+t.tamName+" to MORTAL KOMBAT!!!!"),this.initMatch()}return e.prototype.initMatch=function(){console.log("Fight!"),this.startingPlayer=this.determineFirstFighter(),this.meleRound(this.fighters,this.startingPlayer)},e.prototype.determineFirstFighter=function(){return Math.random()>.5?0:1},e.prototype.meleRound=function(e,t){var o=this.determineCombatRoles(t),r=e[o.attacker],n=e[o.defender],i=r.attack(),a=n.defend();if(!0===this.determineStrikeOutcome(i,a)?(console.log(r.getFighterName()+" hits "+n.getFighterName()+" with "+i.foodName+" for "+i.damage+"!"),n.takeDamage(i.damage)):console.log(r.getFighterName()+" misses "+n.getFighterName()+" with "+i.foodName+"!"),console.log(r.getFighterName()+": "+r.getHP()+" "+n.getFighterName()+": "+n.getHP()),n.getHP()<=0)console.log(r.getFighterName()+" has won!");else{var s=void 0;s=0==t?1:0,this.meleRound(e,s)}},e.prototype.determineCombatRoles=function(e){var t=0;return 0==e&&(t=1),{attacker:e,defender:t}},e.prototype.determineStrikeOutcome=function(e,t){var o=.45;return e.foodCat==t.weakAgainst&&(o*=2),e.foodCat==t.strongAgainst&&(o/=2),Math.random()>=o},e}();t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.defenseCharacteristics={strongAgainst:"fruit",weakAgainst:"meat"},this.tamName=e,this.hp=60,console.log("my name is "+this.tamName),this.foods=[{foodName:"bananas",foodCat:"fruit",damage:4},{foodName:"beef stroganoff",foodCat:"meat",damage:12},{foodName:"rice",foodCat:"grain",damage:1}]}return e.prototype.getFighterName=function(){return this.tamName},e.prototype.defend=function(){return this.defenseCharacteristics},e.prototype.attack=function(){var e=Math.floor(Math.random()*this.foods.length);return this.foods[e]},e.prototype.takeDamage=function(e){this.hp-=e},e.prototype.getHP=function(){return this.hp},e}();t.default=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9BcmVuYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRmlnaHRlckEudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcmVuYV8xIiwiRmlnaHRlckFfMSIsImJlcnQiLCJkZWZhdWx0IiwiZnJlZCIsIkFyZW5hIiwiZmlnaHRlcjEiLCJmaWdodGVyMiIsInRoaXMiLCJzdGFydGluZ1BsYXllciIsImZpZ2h0ZXJzIiwiY29uc29sZSIsImxvZyIsInRhbU5hbWUiLCJpbml0TWF0Y2giLCJkZXRlcm1pbmVGaXJzdEZpZ2h0ZXIiLCJtZWxlUm91bmQiLCJNYXRoIiwicmFuZG9tIiwicGxheWVyTnVtIiwiY29tYmF0YW50cyIsImRldGVybWluZUNvbWJhdFJvbGVzIiwiYXR0YWNrZXIiLCJkZWZlbmRlciIsImZvb2RXZWFwb24iLCJhdHRhY2siLCJkZWZlbnNlIiwiZGVmZW5kIiwiZGV0ZXJtaW5lU3RyaWtlT3V0Y29tZSIsImdldEZpZ2h0ZXJOYW1lIiwiZm9vZE5hbWUiLCJkYW1hZ2UiLCJ0YWtlRGFtYWdlIiwiZ2V0SFAiLCJuZXh0QXR0YWNrZXIiLCJhY3RpdmVBdHRhY2tlciIsInN1Y2Nlc3NSYXRlIiwiZm9vZENhdCIsIndlYWtBZ2FpbnN0Iiwic3Ryb25nQWdhaW5zdCIsIkZpZ2h0ZXJBIiwiZGVmZW5zZUNoYXJhY3RlcmlzdGljcyIsImhwIiwiZm9vZHMiLCJmb29kTnVtIiwiZmxvb3IiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FB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RixjQUFlLFFBQVNELFlBQVksUUFHakU5QixLQUFLSyxRQUFVQSxFQUNmTCxLQUFLa0MsR0FBSyxHQUNWL0IsUUFBUUMsSUFBSSxjQUFjSixLQUFLSyxTQUMvQkwsS0FBS21DLE1BQVEsQ0FDVCxDQUFDYixTQUFTLFVBQVdPLFFBQVEsUUFBU04sT0FBTyxHQUM3QyxDQUFDRCxTQUFTLGtCQUFtQk8sUUFBUSxPQUFRTixPQUFPLElBQ3BELENBQUNELFNBQVMsT0FBUU8sUUFBUSxRQUFTTixPQUFPLElBcUJ0RCxPQWxCV1MsRUFBQTVDLFVBQUFpQyxlQUFQLFdBQ0ksT0FBT3JCLEtBQUtLLFNBRWhCMkIsRUFBQTVDLFVBQUErQixPQUFBLFdBQ0ksT0FBT25CLEtBQUtpQyx3QkFFaEJELEVBQUE1QyxVQUFBNkIsT0FBQSxXQUNJLElBQUltQixFQUFVM0IsS0FBSzRCLE1BQU01QixLQUFLQyxTQUFTVixLQUFLbUMsTUFBTUcsUUFDbEQsT0FBT3RDLEtBQUttQyxNQUFNQyxJQUV0QkosRUFBQTVDLFVBQUFvQyxXQUFBLFNBQVdELEdBQ1B2QixLQUFLa0MsSUFBTVgsR0FJUlMsRUFBQTVDLFVBQUFxQyxNQUFQLFdBQ0ksT0FBT3pCLEtBQUtrQyxJQUVwQkYsRUFqQ0EsR0FrQ0ExRSxFQUFBcUMsUUFBZXFDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBBcmVuYSBmcm9tICcuL0FyZW5hJztcbmltcG9ydCBGaWdodGVyQSBmcm9tICcuL0ZpZ2h0ZXJBJztcblxubGV0IGJlcnQgPSBuZXcgRmlnaHRlckEoXCJCZXJ0IEJlcnRvY2ltdXNcIik7XG5sZXQgZnJlZCA9IG5ldyBGaWdodGVyQShcIkZyZWRhY2lvdXMgRnJlZGljdXNcIik7XG5sZXQgdGhpc1JpbmcgPSBuZXcgQXJlbmEoYmVydCwgZnJlZCk7XG4iLCJpbXBvcnQgRGlnaVBldCBmcm9tICcuL0RpZ2lQZXQnO1xuaW1wb3J0IEZpZ2h0Q2x1YiBmcm9tICcuL0ZpZ2h0Q2x1Yic7XG5pbXBvcnQgQ29tYmF0Um9sZXMgZnJvbSAnLi9Db21iYXRSb2xlcyc7XG5pbXBvcnQgT2ZmZW5zaXZlRm9vZCBmcm9tICcuL09mZmVuc2l2ZUZvb2QnO1xuaW1wb3J0IEFybW9yIGZyb20gJy4vQXJtb3InO1xuXG5jbGFzcyBBcmVuYSBpbXBsZW1lbnRzIEZpZ2h0Q2x1YntcbiAgICBmaWdodGVyMTogRGlnaVBldDtcbiAgICBmaWdodGVyMjogRGlnaVBldDtcbiAgICBmaWdodGVyczogRGlnaVBldFtdO1xuICAgIHN0YXJ0aW5nUGxheWVyOiBudW1iZXIgPSAwO1xuICAgIGNvbnN0cnVjdG9yKGZpZ2h0ZXIxOiBEaWdpUGV0LCBmaWdodGVyMjogRGlnaVBldCl7XG4gICAgICAgIHRoaXMuZmlnaHRlcjEgPSBmaWdodGVyMTtcbiAgICAgICAgdGhpcy5maWdodGVyMiA9IGZpZ2h0ZXIyO1xuICAgICAgICB0aGlzLmZpZ2h0ZXJzID0gW3RoaXMuZmlnaHRlcjEsIHRoaXMuZmlnaHRlcjJdO1xuICAgICAgICBjb25zb2xlLmxvZyhgd2VsY29tZSAke2ZpZ2h0ZXIxLnRhbU5hbWV9IGFuZCAke2ZpZ2h0ZXIyLnRhbU5hbWV9IHRvIE1PUlRBTCBLT01CQVQhISEhYCk7XG4gICAgICAgIHRoaXMuaW5pdE1hdGNoKCk7XG4gICAgfVxuICAgIC8vaW5pdGlhbGl6ZSB0aGUgbWF0Y2ghXG4gICAgaW5pdE1hdGNoKCk6IHZvaWR7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmlnaHQhXCIpO1xuICAgICAgICB0aGlzLnN0YXJ0aW5nUGxheWVyID0gIHRoaXMuZGV0ZXJtaW5lRmlyc3RGaWdodGVyKCk7XG4gICAgICAgIHRoaXMubWVsZVJvdW5kKHRoaXMuZmlnaHRlcnMsIHRoaXMuc3RhcnRpbmdQbGF5ZXIpO1xuICAgIH1cbiAgICAvL3JhbmRvbSBmaXJzdCBzdHJpa2VcbiAgICBkZXRlcm1pbmVGaXJzdEZpZ2h0ZXIoKTogbnVtYmVye1xuICAgICAgICBsZXQgZmlyc3RGaWdodGVyOiBudW1iZXI7XG4gICAgICAgIGxldCBmaWdodGVyQ2hhbmNlID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgaWYoZmlnaHRlckNoYW5jZT4uNSl7XG4gICAgICAgICAgICBmaXJzdEZpZ2h0ZXIgPSAwO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGZpcnN0RmlnaHRlciA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpcnN0RmlnaHRlcjtcbiAgICB9XG4gICAgLy9tZWxlUm91bmRzIHJ1biB1bnRpbCBhIHBsYXllciByZWFjaGVzIDAgaGl0IHBvaW50c1xuICAgIG1lbGVSb3VuZChmaWdodGVyczogRGlnaVBldFtdLCBwbGF5ZXJOdW06IG51bWJlcik6IHZvaWR7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJydW4gYSByb3VuZCBvZiBmaWdodGluZyFcIik7XG4gICAgICAgIC8vZGVmaW5lIHdobyB0aGUgYXR0YWNrZXIgaXM6XG4gICAgICAgIGxldCBjb21iYXRhbnRzOiBDb21iYXRSb2xlcyA9IHRoaXMuZGV0ZXJtaW5lQ29tYmF0Um9sZXMocGxheWVyTnVtKTsgXG4gICAgICAgIC8vZGVmaW5lIHRoZSBhdHRhY2tlciBhbmQgZGVmZW5kZXIgcm9sZXM6XG4gICAgICAgIC8vY29uc29sZS5sb2coYGF0dGFja2VyOiAke2NvbWJhdGFudHMuYXR0YWNrZXJ9ICBkZWZlbmRlcjoke2NvbWJhdGFudHMuZGVmZW5kZXJ9YCk7XG4gICAgICAgIGxldCBhdHRhY2tlcjogRGlnaVBldCA9IGZpZ2h0ZXJzW2NvbWJhdGFudHMuYXR0YWNrZXJdIGFzIERpZ2lQZXQ7XG4gICAgICAgIGxldCBkZWZlbmRlcjogRGlnaVBldCA9IGZpZ2h0ZXJzW2NvbWJhdGFudHMuZGVmZW5kZXJdIGFzIERpZ2lQZXQ7XG4gICAgICAgIC8vbm93IHdlIGdldCB0aGUgZm9vZCB0eXBlIHRvIGF0dGFjayB3aXRoXG4gICAgICAgIGxldCBmb29kV2VhcG9uOiBPZmZlbnNpdmVGb29kID0gYXR0YWNrZXIuYXR0YWNrKCk7XG4gICAgICAgIC8vY29uc29sZS5sb2coZm9vZFdlYXBvbik7XG4gICAgICAgIC8vd2UgZ2V0IHRoZSBkZWZlbnNlIGZyb20gdGhlIG9wcG9zaW5nIHBsYXllclxuICAgICAgICBsZXQgZGVmZW5zZTogQXJtb3IgPSBkZWZlbmRlci5kZWZlbmQoKTtcbiAgICAgICAgLy9jaGVjayBpZiB0aGUgYXR0YWNrIGhpdFxuICAgICAgICBsZXQgZm9vZEhpdDogYm9vbGVhbiA9IHRoaXMuZGV0ZXJtaW5lU3RyaWtlT3V0Y29tZShmb29kV2VhcG9uLCBkZWZlbnNlKTtcbiAgICAgICAgLy9hcHBseSB0aGUgZGFtYWdlXG4gICAgICAgIGlmKGZvb2RIaXQ9PT10cnVlKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2F0dGFja2VyLmdldEZpZ2h0ZXJOYW1lKCl9IGhpdHMgJHtkZWZlbmRlci5nZXRGaWdodGVyTmFtZSgpfSB3aXRoICR7Zm9vZFdlYXBvbi5mb29kTmFtZX0gZm9yICR7Zm9vZFdlYXBvbi5kYW1hZ2V9IWApO1xuICAgICAgICAgICAgZGVmZW5kZXIudGFrZURhbWFnZShmb29kV2VhcG9uLmRhbWFnZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7YXR0YWNrZXIuZ2V0RmlnaHRlck5hbWUoKX0gbWlzc2VzICR7ZGVmZW5kZXIuZ2V0RmlnaHRlck5hbWUoKX0gd2l0aCAke2Zvb2RXZWFwb24uZm9vZE5hbWV9IWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGAke2F0dGFja2VyLmdldEZpZ2h0ZXJOYW1lKCl9OiAke2F0dGFja2VyLmdldEhQKCl9ICR7ZGVmZW5kZXIuZ2V0RmlnaHRlck5hbWUoKX06ICR7ZGVmZW5kZXIuZ2V0SFAoKX1gKTtcbiAgICAgICAgLy9jaGVjayBmb3IgMCBhbmQgc2hvdyByZXN1bHRcbiAgICAgICAgaWYoZGVmZW5kZXIuZ2V0SFAoKTw9MCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHthdHRhY2tlci5nZXRGaWdodGVyTmFtZSgpfSBoYXMgd29uIWApO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGxldCBuZXh0QXR0YWNrZXI6IG51bWJlcjtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJOdW09PTApe1xuICAgICAgICAgICAgICAgIG5leHRBdHRhY2tlciA9IDE7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBuZXh0QXR0YWNrZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZWxlUm91bmQoZmlnaHRlcnMsIG5leHRBdHRhY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGV0ZXJtaW5lQ29tYmF0Um9sZXMoYWN0aXZlQXR0YWNrZXI6IG51bWJlcik6IENvbWJhdFJvbGVze1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiZGV0ZXJtaW5lIHRoZSBjb21iYXQgcm9sZXNcIik7XG4gICAgICAgIGxldCBkZWZlbmRlcjogbnVtYmVyID0gMDtcbiAgICAgICAgaWYoYWN0aXZlQXR0YWNrZXI9PTApe1xuICAgICAgICAgICAgZGVmZW5kZXIgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7YXR0YWNrZXI6IGFjdGl2ZUF0dGFja2VyLCBkZWZlbmRlcn07XG4gICAgfVxuICAgIGRldGVybWluZVN0cmlrZU91dGNvbWUoZm9vZFdlYXBvbjogT2ZmZW5zaXZlRm9vZCwgZGVmZW5kOiBBcm1vcik6IGJvb2xlYW57XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ3aWxsIHRoZSBzdHJpa2UgbGFuZD9cIik7XG4gICAgICAgIGxldCBzdWNjZXNzUmF0ZTogbnVtYmVyID0gMC40NTtcbiAgICAgICAgaWYoZm9vZFdlYXBvbi5mb29kQ2F0ID09IGRlZmVuZC53ZWFrQWdhaW5zdCl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBJIGFtIHdlYWsgYWdhaW5zdDogJHtmb29kV2VhcG9uLmZvb2RDYXR9YCk7XG4gICAgICAgICAgICBzdWNjZXNzUmF0ZSo9MjtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYHN1Y2Nlc3NSYXRlOiAke3N1Y2Nlc3NSYXRlfWApOyBcbiAgICAgICAgfVxuICAgICAgICBpZihmb29kV2VhcG9uLmZvb2RDYXQgPT0gZGVmZW5kLnN0cm9uZ0FnYWluc3Qpe1xuICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgSSBhbSBzdHJvbmcgYWdhaW5zdDogJHtmb29kV2VhcG9uLmZvb2RDYXR9YCk7XG4gICAgICAgICAgICBzdWNjZXNzUmF0ZSAvPTI7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBzdWNjZXNzUmF0ZTogJHtzdWNjZXNzUmF0ZX1gKTsgXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhpdFN1Y2Nlc3MgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICBpZihoaXRTdWNjZXNzPj1zdWNjZXNzUmF0ZSl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgQXJlbmE7IiwiaW1wb3J0IERpZ2lQZXQgZnJvbSAnLi9EaWdpUGV0JztcbmltcG9ydCBBcm1vciBmcm9tICcuL0FybW9yJztcbmltcG9ydCBPZmZlbnNpdmVGb29kIGZyb20gJy4vT2ZmZW5zaXZlRm9vZCc7XG5cbmNsYXNzIEZpZ2h0ZXJBIGltcGxlbWVudHMgRGlnaVBldHtcbiAgICB0YW1OYW1lOiBzdHJpbmc7XG4gICAgaHA6IG51bWJlcjtcbiAgICBkZWZlbnNlQ2hhcmFjdGVyaXN0aWNzOiBBcm1vciA9IHtzdHJvbmdBZ2FpbnN0OiBcImZydWl0XCIsIHdlYWtBZ2FpbnN0OlwibWVhdFwifTtcbiAgICBmb29kczogT2ZmZW5zaXZlRm9vZFtdO1xuICAgIGNvbnN0cnVjdG9yKHRhbU5hbWU6IHN0cmluZyl7XG4gICAgICAgIHRoaXMudGFtTmFtZSA9IHRhbU5hbWU7XG4gICAgICAgIHRoaXMuaHAgPSA2MDtcbiAgICAgICAgY29uc29sZS5sb2coYG15IG5hbWUgaXMgJHt0aGlzLnRhbU5hbWV9YCk7XG4gICAgICAgIHRoaXMuZm9vZHMgPSBbXG4gICAgICAgICAgICB7Zm9vZE5hbWU6XCJiYW5hbmFzXCIsIGZvb2RDYXQ6XCJmcnVpdFwiLCBkYW1hZ2U6NH0sXG4gICAgICAgICAgICB7Zm9vZE5hbWU6XCJiZWVmIHN0cm9nYW5vZmZcIiwgZm9vZENhdDpcIm1lYXRcIiwgZGFtYWdlOjEyfSxcbiAgICAgICAgICAgIHtmb29kTmFtZTpcInJpY2VcIiwgZm9vZENhdDpcImdyYWluXCIsIGRhbWFnZToxfSxcbiAgICAgICAgXVxuICAgIH1cbiAgICBwdWJsaWMgZ2V0RmlnaHRlck5hbWUoKTogc3RyaW5ne1xuICAgICAgICByZXR1cm4gdGhpcy50YW1OYW1lO1xuICAgIH1cbiAgICBkZWZlbmQoKTogQXJtb3J7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmVuc2VDaGFyYWN0ZXJpc3RpY3M7XG4gICAgfVxuICAgIGF0dGFjaygpOiBPZmZlbnNpdmVGb29ke1xuICAgICAgICBsZXQgZm9vZE51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0aGlzLmZvb2RzLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLmZvb2RzW2Zvb2ROdW1dO1xuICAgIH1cbiAgICB0YWtlRGFtYWdlKGRhbWFnZTogbnVtYmVyKTogdm9pZHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ0YWtlbiBkYW1hZ2VcIik7XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5ocCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXRIUCgpOiBudW1iZXJ7XG4gICAgICAgIHJldHVybiB0aGlzLmhwO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEZpZ2h0ZXJBOyJdLCJzb3VyY2VSb290IjoiIn0=